name: Release Plugin

on:
  push:
    tags:
      - 'v*'

jobs:
  release:
    uses: artkrsk/wordpress-plugin-release-action/.github/workflows/release.yml@main
    with:
      # Build configuration
      node_version: '23'
      build_command: 'npm run build'

      # Paths
      assets_directory: '__assets__'

      # Version validation
      version_files: '["plugin_header", "readme.txt", "package.json"]'

      # WordPress.org deployment
      deploy_to_wordpress: true

    secrets:
      SVN_USERNAME: ${{ secrets.SVN_USERNAME }}
      SVN_PASSWORD: ${{ secrets.SVN_PASSWORD }}
